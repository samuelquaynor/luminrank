<div class="profile-setup-page">
  <div class="setup-container">
    <!-- Header -->
    <div class="setup-header">
      <div class="logo">
        <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
          <circle cx="20" cy="20" r="18" stroke="currentColor" stroke-width="2"/>
          <path d="M20 8L24 16L32 20L24 24L20 32L16 24L8 20L16 16L20 8Z" fill="currentColor"/>
        </svg>
      </div>
      <h1>Welcome to LuminRank!</h1>
      <p class="subtitle">Let's personalize your experience</p>
    </div>

    <!-- Profile Form -->
    <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="setup-form" data-testid="profile-setup-form">
      <div class="form-group">
        <label for="name">What should we call you?</label>
        <input
          type="text"
          id="name"
          formControlName="name"
          placeholder="Enter your name"
          class="form-control"
          [class.is-invalid]="isFieldInvalid('name')"
          autofocus
          data-testid="profile-name-input"
        />
        @if (isFieldInvalid('name')) {
          <div class="error-message">
            @if (profileForm.get('name')?.errors?.['required']) {
              <div>Name is required</div>
            }
            @if (profileForm.get('name')?.errors?.['minlength']) {
              <div>Name must be at least 2 characters</div>
            }
          </div>
        }
      </div>

      @if (error) {
        <div class="alert alert-danger">
          {{ error }}
        </div>
      }

      <div class="form-actions">
        <button
          type="submit"
          class="btn btn-primary btn-block"
          [disabled]="isLoading"
          data-testid="profile-continue-button"
        >
          @if (isLoading) {
            <span class="spinner"></span>
          }
          {{ isLoading ? 'Saving...' : 'Continue' }}
        </button>
      </div>
    </form>

  </div>
</div>
